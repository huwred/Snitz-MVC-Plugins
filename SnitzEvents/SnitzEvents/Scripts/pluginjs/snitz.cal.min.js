$(document).ready(function(){if($(".cal-dates").length>=1){$("#calendar-start-date").datetimepicker({dateFormat:"dd M yy",timeFormat:"HH:mm",timeInput:!0,showHour:!1,showMinute:!1});$("#calendar-end-date").datetimepicker({dateFormat:"dd M yy",timeFormat:"HH:mm",timeInput:!0,showHour:!1,showMinute:!1});$("#cal-recur").val()==="EveryDay"&&$("#cal-dow").show();$("#cal-recur").on("change",function(){$(this).val()==="EveryDay"?$("#cal-dow").show():$("#cal-dow").hide()})}$(".club-dates").length>=1&&($("#calendar-start-date").datetimepicker({dateFormat:"dd M yy",timeFormat:"HH:mm",timeInput:!1,showHour:!1,showMinute:!1}),$("#calendar-end-date").datetimepicker({dateFormat:"dd M yy",timeFormat:"HH:mm",timeInput:!1,showHour:!1,showMinute:!1}))});UpComingCalendar=function(n,t){var i=new Date,r=i.getDate(),u=i.getMonth()+1,f=i.getFullYear(),e=""+f+"-"+(u<=9?"0"+u:u)+"-"+(r<=9?"0"+r:r);$("#"+t).fullCalendar({header:{left:"title",center:"",right:""},duration:{weeks:5},defaultView:"upComing",lang:window.SnitzVars.forumlang,isJalaali:window.SnitzVars.forumlang==="fa",isRTL:window.SnitzVars.forumlang==="fa",allDayText:window.Snitzres.AllDayEvent,dateFormat:"DD/MM/YY",timeFormat:"HH:mm",titleFormat:window.SnitzVars.upComingEventsTitle,height:560,eventSources:[{url:n},{url:window.SnitzVars.baseUrl+"Calendar/GetHolidays"},{url:window.SnitzVars.baseUrl+"Calendar/GetBirthDays"}],loading:function(n){n?($("#calendar-list").css({visibility:"hidden"}),$("#calendar-list").css({height:"0"}),$("#upcoming-events").show()):($("#calendar-list").css({visibility:"visible"}),$("#cal-loading").hide(),$("#calendar-list").css({height:"auto"}))},defaultDate:moment(e)})};FullCalendar=function(n,t,i,r){var u=$("#"+t).fullCalendar("getView"),f;r.length>1&&$("#"+t).fullCalendar("destroy");var e=window.SnitzVars.baseUrl+"Calendar/GetHolidays/"+r,o=window.SnitzVars.baseUrl+"Events/GetClubCalendarEvents/-1?old=0&calendar=1",s=window.SnitzVars.baseUrl+"Calendar/GetBirthDays";window.SnitzVars.forumlang==="fa"&&(i="6");$("#"+t).fullCalendar({header:{left:"basicWeek,month,year",center:"title",right:"prev,next,today"},defaultView:"month",lang:window.SnitzVars.forumlang,isJalaali:window.SnitzVars.forumlang==="fa",isRTL:window.SnitzVars.forumlang==="fa",firstDay:parseInt(i),dateFormat:"dd/MM/yy",timeFormat:"HH:mm",eventSources:[{url:n},{url:o},{url:s},{url:e}],eventClick:function(n){n.className[0]==="event-birthday"&&alert(n.title)}});r.length>1&&(f=$("#"+t).fullCalendar("getView"),f.name!==u.name&&$("#"+t).fullCalendar("changeView",u.name))};ClubCalendar=function(n,t,i){var f=new Date,e=f.getDay(),u=52,r;i.length>1&&(u=calcWeeks(i));r="upComing";i.length>1&&(r="disContinued");$("#"+t).fullCalendar({header:{left:"",center:"title",right:""},views:{upComing:{type:"callist",duration:{weeks:52},titleFormat:window.SnitzVars.upComingEventsTitle,rows:26},disContinued:{type:"callist",duration:{weeks:u},titleFormat:window.SnitzVars.pastEventsTitle,rows:26}},defaultView:r,lang:window.SnitzVars.forumlang,isJalaali:window.SnitzVars.forumlang==="fa",isRTL:window.SnitzVars.forumlang==="fa",firstDay:e,dateFormat:"DD/MM/YY",timeFormat:"HH:mm",eventSources:[n],navLinks:!1,editable:!1,eventLimit:!0});i.length>1&&$("#"+t).fullCalendar("gotoDate",i);$(".my-fc-list>div").is(":empty")&&$(".my-fc-list>div").html("No Events")};calcWeeks=function(n){var t=new Date(n),i=new Date;return(i-t)/6048e5.toFixed(2)};postEvent=function(n,t){if($("#calendar-start-date").val()==="")return window.location.reload(t[1]),!1;$("#cal-topicid").val(t[0]);var i=$("#cal-addTopicEvent").serialize();return n.preventDefault(),$.ajax({type:"POST",url:window.SnitzVars.baseUrl+"Calendar/SaveEvent",data:i,dataType:"json",success:function(n){return n.success&&(BootstrapDialog.alert({title:"Event Info ",message:n.responseText}),window.location.href=t[1]),!1},error:function(n){return BootstrapDialog.alert({title:"Event Error ",message:n.responseText}),window.location.href=t[1],!1}}),!1};setForumEventsAuth=function(n){var t=$("#cal-forumAuth").serialize();n.preventDefault();$.ajax({type:"POST",url:window.SnitzVars.baseUrl+"Calendar/SaveForum",data:t,dataType:"json",success:function(n){return n.success&&(BootstrapDialog.alert({title:"Event Info ",message:n.responseText}),location.reload()),!1},error:function(n){BootstrapDialog.alert({title:"Event Error ",message:n})}})};