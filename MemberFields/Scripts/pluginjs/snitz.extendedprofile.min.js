function loadUserTimeZone(){$("#TimeZoneUpdate").length>0&&$("#TimeZoneUpdate").load(window.SnitzVars.baseUrl+"MemberFields/MemberField/"+window.SnitzVars.currentUserId+"?property=TimeZone")}function saveProfile(n,t,i){$.ajax({type:"POST",url:window.SnitzVars.baseUrl+"MemberFields/SaveProfile",traditional:!0,data:{id:n,property:t,value:i},success:function(n){$("#"+t).html(n)},error:function(){alert("error!")}})}function saveProfileField(){$("#create-field-form").submit()}function fieldSuccess(){$("#modal-container").modal("hide");setTimeout(function(){window.location.reload()},500)}$(document).ready(function(){$(".numberinput").forceNumeric();$(".profile-text").on("click",function(n){n.preventDefault();var t="#input_"+$(this).data("control");saveProfile($(t).data("user"),$(t).attr("name"),$(t).val())});$(".profile-check").on("change",function(){this.checked?saveProfile($(this).data("user"),$(this).attr("name"),1):saveProfile($(this).data("user"),$(this).attr("name"),0)});$(".profile-radio").on("change",function(){this.checked?saveProfile($(this).data("user"),$(this).attr("name"),this.value):saveProfile($(this).data("user"),$(this).attr("name"),this.value)});$(".profile-tzselect").on("change",function(){saveProfile($(this).data("user"),$(this).attr("name"),this.value)});$(".profile-select").on("change",function(){alert($(this).attr("name"));saveProfile($(this).data("user"),$(this).attr("name"),this.value)});$("body").on("change","#FieldType",function(){$("#FieldType").val()==="O"||$("#FieldType").val()==="M"||$("#FieldType").val()==="H"||$("#FieldType").val()==="V"?$("#options-create-box").show():$("#options-create-box").hide()});$("body").on("keypress",".field-name",function(n){var t=new RegExp("^[a-zA-Z0-9]+$"),i=String.fromCharCode(n.charCode?n.charCode:n.which);return t.test(i)?($(".field-name-err").hide(),!0):($(".field-name-err").show(),n.preventDefault(),!1)});$(".date").datetimepicker({dateFormat:"dd/mm/yy",showTimepicker:!1});$(".datetime").datetimepicker({dateFormat:"dd/mm/yy",timeFormat:"HH:mm"});$(".time").datetimepicker({dateFormat:"dd/mm/yy",timeOnly:!0});loadUserTimeZone();setInterval(function(){loadUserTimeZone()},6e4);setRequiredFields()});