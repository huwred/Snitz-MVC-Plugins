(function(){var a=[].slice;(function(b,d){var c;c=(function(){function e(f,g){if(g==null){g={}}this.$element=b(f);this.options=b.extend({},b.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},g);this.prevOptions={};this.$wrapper=b("<div>",{"class":(function(h){return function(){var i;i=[""+h.options.baseClass].concat(h._getClasses(h.options.wrapperClass));i.push(h.options.state?h.options.baseClass+"-on":h.options.baseClass+"-off");if(h.options.size!=null){i.push(h.options.baseClass+"-"+h.options.size)}if(h.options.disabled){i.push(h.options.baseClass+"-disabled")}if(h.options.readonly){i.push(h.options.baseClass+"-readonly")}if(h.options.indeterminate){i.push(h.options.baseClass+"-indeterminate")}if(h.options.inverse){i.push(h.options.baseClass+"-inverse")}if(h.$element.attr("id")){i.push(h.options.baseClass+"-id-"+(h.$element.attr("id")))}return i.join(" ")}})(this)()});this.$container=b("<div>",{"class":this.options.baseClass+"-container"});this.$on=b("<span>",{html:this.options.onText,"class":this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor});this.$off=b("<span>",{html:this.options.offText,"class":this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor});this.$label=b("<span>",{html:this.options.labelText,"class":this.options.baseClass+"-label"});this.$element.on("init.bootstrapSwitch",(function(h){return function(){return h.options.onInit.apply(f,arguments)}})(this));this.$element.on("switchChange.bootstrapSwitch",(function(h){return function(i){if(false===h.options.onSwitchChange.apply(f,arguments)){if(h.$element.is(":radio")){return b("[name='"+(h.$element.attr("name"))+"']").trigger("previousState.bootstrapSwitch",true)}else{return h.$element.trigger("previousState.bootstrapSwitch",true)}}}})(this));this.$container=this.$element.wrap(this.$container).parent();this.$wrapper=this.$container.wrap(this.$wrapper).parent();this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off);if(this.options.indeterminate){this.$element.prop("indeterminate",true)}this._init();this._elementHandlers();this._handleHandlers();this._labelHandlers();this._formHandler();this._externalLabelHandler();this.$element.trigger("init.bootstrapSwitch",this.options.state)}e.prototype._constructor=e;e.prototype.setPrevOptions=function(){return this.prevOptions=b.extend(true,{},this.options)};e.prototype.state=function(g,f){if(typeof g==="undefined"){return this.options.state}if(this.options.disabled||this.options.readonly){return this.$element}if(this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")){return this.$element}if(this.$element.is(":radio")){b("[name='"+(this.$element.attr("name"))+"']").trigger("setPreviousOptions.bootstrapSwitch")}else{this.$element.trigger("setPreviousOptions.bootstrapSwitch")}if(this.options.indeterminate){this.indeterminate(false)}g=!!g;this.$element.prop("checked",g).trigger("change.bootstrapSwitch",f);return this.$element};e.prototype.toggleState=function(f){if(this.options.disabled||this.options.readonly){return this.$element}if(this.options.indeterminate){this.indeterminate(false);return this.state(true)}else{return this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",f)}};e.prototype.size=function(f){if(typeof f==="undefined"){return this.options.size}if(this.options.size!=null){this.$wrapper.removeClass(this.options.baseClass+"-"+this.options.size)}if(f){this.$wrapper.addClass(this.options.baseClass+"-"+f)}this._width();this._containerPosition();this.options.size=f;return this.$element};e.prototype.animate=function(f){if(typeof f==="undefined"){return this.options.animate}f=!!f;if(f===this.options.animate){return this.$element}return this.toggleAnimate()};e.prototype.toggleAnimate=function(){this.options.animate=!this.options.animate;this.$wrapper.toggleClass(this.options.baseClass+"-animate");return this.$element};e.prototype.disabled=function(f){if(typeof f==="undefined"){return this.options.disabled}f=!!f;if(f===this.options.disabled){return this.$element}return this.toggleDisabled()};e.prototype.toggleDisabled=function(){this.options.disabled=!this.options.disabled;this.$element.prop("disabled",this.options.disabled);this.$wrapper.toggleClass(this.options.baseClass+"-disabled");return this.$element};e.prototype.readonly=function(f){if(typeof f==="undefined"){return this.options.readonly}f=!!f;if(f===this.options.readonly){return this.$element}return this.toggleReadonly()};e.prototype.toggleReadonly=function(){this.options.readonly=!this.options.readonly;this.$element.prop("readonly",this.options.readonly);this.$wrapper.toggleClass(this.options.baseClass+"-readonly");return this.$element};e.prototype.indeterminate=function(f){if(typeof f==="undefined"){return this.options.indeterminate}f=!!f;if(f===this.options.indeterminate){return this.$element}return this.toggleIndeterminate()};e.prototype.toggleIndeterminate=function(){this.options.indeterminate=!this.options.indeterminate;this.$element.prop("indeterminate",this.options.indeterminate);this.$wrapper.toggleClass(this.options.baseClass+"-indeterminate");this._containerPosition();return this.$element};e.prototype.inverse=function(f){if(typeof f==="undefined"){return this.options.inverse}f=!!f;if(f===this.options.inverse){return this.$element}return this.toggleInverse()};e.prototype.toggleInverse=function(){var f,g;this.$wrapper.toggleClass(this.options.baseClass+"-inverse");g=this.$on.clone(true);f=this.$off.clone(true);this.$on.replaceWith(f);this.$off.replaceWith(g);this.$on=f;this.$off=g;this.options.inverse=!this.options.inverse;return this.$element};e.prototype.onColor=function(g){var f;f=this.options.onColor;if(typeof g==="undefined"){return f}if(f!=null){this.$on.removeClass(this.options.baseClass+"-"+f)}this.$on.addClass(this.options.baseClass+"-"+g);this.options.onColor=g;return this.$element};e.prototype.offColor=function(g){var f;f=this.options.offColor;if(typeof g==="undefined"){return f}if(f!=null){this.$off.removeClass(this.options.baseClass+"-"+f)}this.$off.addClass(this.options.baseClass+"-"+g);this.options.offColor=g;return this.$element};e.prototype.onText=function(f){if(typeof f==="undefined"){return this.options.onText}this.$on.html(f);this._width();this._containerPosition();this.options.onText=f;return this.$element};e.prototype.offText=function(f){if(typeof f==="undefined"){return this.options.offText}this.$off.html(f);this._width();this._containerPosition();this.options.offText=f;return this.$element};e.prototype.labelText=function(f){if(typeof f==="undefined"){return this.options.labelText}this.$label.html(f);this._width();this.options.labelText=f;return this.$element};e.prototype.handleWidth=function(f){if(typeof f==="undefined"){return this.options.handleWidth}this.options.handleWidth=f;this._width();this._containerPosition();return this.$element};e.prototype.labelWidth=function(f){if(typeof f==="undefined"){return this.options.labelWidth}this.options.labelWidth=f;this._width();this._containerPosition();return this.$element};e.prototype.baseClass=function(f){return this.options.baseClass};e.prototype.wrapperClass=function(f){if(typeof f==="undefined"){return this.options.wrapperClass}if(!f){f=b.fn.bootstrapSwitch.defaults.wrapperClass}this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" "));this.$wrapper.addClass(this._getClasses(f).join(" "));this.options.wrapperClass=f;return this.$element};e.prototype.radioAllOff=function(f){if(typeof f==="undefined"){return this.options.radioAllOff}f=!!f;if(f===this.options.radioAllOff){return this.$element}this.options.radioAllOff=f;return this.$element};e.prototype.onInit=function(f){if(typeof f==="undefined"){return this.options.onInit}if(!f){f=b.fn.bootstrapSwitch.defaults.onInit}this.options.onInit=f;return this.$element};e.prototype.onSwitchChange=function(f){if(typeof f==="undefined"){return this.options.onSwitchChange}if(!f){f=b.fn.bootstrapSwitch.defaults.onSwitchChange}this.options.onSwitchChange=f;return this.$element};e.prototype.destroy=function(){var f;f=this.$element.closest("form");if(f.length){f.off("reset.bootstrapSwitch").removeData("bootstrap-switch")}this.$container.children().not(this.$element).remove();this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch");return this.$element};e.prototype._width=function(){var f,g;f=this.$on.add(this.$off);f.add(this.$label).css("width","");g=this.options.handleWidth==="auto"?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth;f.width(g);this.$label.width((function(h){return function(i,j){if(h.options.labelWidth!=="auto"){return h.options.labelWidth}if(j<g){return g}else{return j}}})(this));this._handleWidth=this.$on.outerWidth();this._labelWidth=this.$label.outerWidth();this.$container.width((this._handleWidth*2)+this._labelWidth);return this.$wrapper.width(this._handleWidth+this._labelWidth)};e.prototype._containerPosition=function(g,f){if(g==null){g=this.options.state}this.$container.css("margin-left",(function(h){return function(){var i;i=[0,"-"+h._handleWidth+"px"];if(h.options.indeterminate){return"-"+(h._handleWidth/2)+"px"}if(g){if(h.options.inverse){return i[1]}else{return i[0]}}else{if(h.options.inverse){return i[0]}else{return i[1]}}}})(this));if(!f){return}return setTimeout(function(){return f()},50)};e.prototype._init=function(){var f,g;f=(function(h){return function(){h.setPrevOptions();h._width();return h._containerPosition(null,function(){if(h.options.animate){return h.$wrapper.addClass(h.options.baseClass+"-animate")}})}})(this);if(this.$wrapper.is(":visible")){return f()}return g=d.setInterval((function(h){return function(){if(h.$wrapper.is(":visible")){f();return d.clearInterval(g)}}})(this),50)};e.prototype._elementHandlers=function(){return this.$element.on({"setPreviousOptions.bootstrapSwitch":(function(f){return function(g){return f.setPrevOptions()}})(this),"previousState.bootstrapSwitch":(function(f){return function(g){f.options=f.prevOptions;if(f.options.indeterminate){f.$wrapper.addClass(f.options.baseClass+"-indeterminate")}return f.$element.prop("checked",f.options.state).trigger("change.bootstrapSwitch",true)}})(this),"change.bootstrapSwitch":(function(f){return function(g,h){var i;g.preventDefault();g.stopImmediatePropagation();i=f.$element.is(":checked");f._containerPosition(i);if(i===f.options.state){return}f.options.state=i;f.$wrapper.toggleClass(f.options.baseClass+"-off").toggleClass(f.options.baseClass+"-on");if(!h){if(f.$element.is(":radio")){b("[name='"+(f.$element.attr("name"))+"']").not(f.$element).prop("checked",false).trigger("change.bootstrapSwitch",true)}return f.$element.trigger("switchChange.bootstrapSwitch",[i])}}})(this),"focus.bootstrapSwitch":(function(f){return function(g){g.preventDefault();return f.$wrapper.addClass(f.options.baseClass+"-focused")}})(this),"blur.bootstrapSwitch":(function(f){return function(g){g.preventDefault();return f.$wrapper.removeClass(f.options.baseClass+"-focused")}})(this),"keydown.bootstrapSwitch":(function(f){return function(g){if(!g.which||f.options.disabled||f.options.readonly){return}switch(g.which){case 37:g.preventDefault();g.stopImmediatePropagation();return f.state(false);case 39:g.preventDefault();g.stopImmediatePropagation();return f.state(true)}}})(this)})};e.prototype._handleHandlers=function(){this.$on.on("click.bootstrapSwitch",(function(f){return function(g){g.preventDefault();g.stopPropagation();f.state(false);return f.$element.trigger("focus.bootstrapSwitch")}})(this));return this.$off.on("click.bootstrapSwitch",(function(f){return function(g){g.preventDefault();g.stopPropagation();f.state(true);return f.$element.trigger("focus.bootstrapSwitch")}})(this))};e.prototype._labelHandlers=function(){return this.$label.on({click:function(f){return f.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":(function(f){return function(g){if(f._dragStart||f.options.disabled||f.options.readonly){return}g.preventDefault();g.stopPropagation();f._dragStart=(g.pageX||g.originalEvent.touches[0].pageX)-parseInt(f.$container.css("margin-left"),10);if(f.options.animate){f.$wrapper.removeClass(f.options.baseClass+"-animate")}return f.$element.trigger("focus.bootstrapSwitch")}})(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":(function(f){return function(h){var g;if(f._dragStart==null){return}h.preventDefault();g=(h.pageX||h.originalEvent.touches[0].pageX)-f._dragStart;if(g<-f._handleWidth||g>0){return}f._dragEnd=g;return f.$container.css("margin-left",f._dragEnd+"px")}})(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":(function(f){return function(g){var h;if(!f._dragStart){return}g.preventDefault();if(f.options.animate){f.$wrapper.addClass(f.options.baseClass+"-animate")}if(f._dragEnd){h=f._dragEnd>-(f._handleWidth/2);f._dragEnd=false;f.state(f.options.inverse?!h:h)}else{f.state(!f.options.state)}return f._dragStart=false}})(this),"mouseleave.bootstrapSwitch":(function(f){return function(g){return f.$label.trigger("mouseup.bootstrapSwitch")}})(this)})};e.prototype._externalLabelHandler=function(){var f;f=this.$element.closest("label");return f.on("click",(function(g){return function(h){h.preventDefault();h.stopImmediatePropagation();if(h.target===f[0]){return g.toggleState()}}})(this))};e.prototype._formHandler=function(){var f;f=this.$element.closest("form");if(f.data("bootstrap-switch")){return}return f.on("reset.bootstrapSwitch",function(){return d.setTimeout(function(){return f.find("input").filter(function(){return b(this).data("bootstrap-switch")}).each(function(){return b(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",true)};e.prototype._getClasses=function(g){var f,h,j,k;if(!b.isArray(g)){return[this.options.baseClass+"-"+g]}h=[];for(j=0,k=g.length;j<k;j++){f=g[j];h.push(this.options.baseClass+"-"+f)}return h};return e})();b.fn.bootstrapSwitch=function(){var e,f,g;f=arguments[0],e=2<=arguments.length?a.call(arguments,1):[];g=this;this.each(function(){var h,i;h=b(this);i=h.data("bootstrap-switch");if(!i){h.data("bootstrap-switch",i=new c(this,f))}if(typeof f==="string"){return g=i[f].apply(i,e)}});return g};b.fn.bootstrapSwitch.Constructor=c;return b.fn.bootstrapSwitch.defaults={state:true,size:null,animate:true,disabled:false,readonly:false,indeterminate:false,inverse:false,radioAllOff:false,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}})(window.jQuery,window)}).call(this);