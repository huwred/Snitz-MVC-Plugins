(function(n){"use strict";n.fn.bsPhotoGallery=function(t){function e(){return'ul[data-bsp-ul-id="'+i.ulId+'"][data-bsp-ul-index="'+i.ulIndex+'"]'}function h(){for(var n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",t="",i=0;i<4;i++)t+=n.charAt(Math.floor(Math.random()*n.length));return"bsp-"+t}function c(){if(n("#bsPhotoGalleryModal").length!==0)return!1;var t="";t+='<div class="modal fade" id="bsPhotoGalleryModal" tabindex="-1" role="dialog"';t+='aria-labelledby="myModalLabel" aria-hidden="true">';t+='<div class="modal-dialog modal-lg"><div class="modal-content">';t+='<div class="modal-body"><\/div><\/div><\/div><\/div>';n("body").append(t)}function o(){var t=n(e()+" li[data-bsp-li-index]").length;t===i.nextImg?n("a.next").hide():n("a.next").show();i.prevImg===-1?n("a.previous").hide():n("a.previous").show()}function s(n){return n.replace('"',"").replace("'","").replace('"',"").replace("'","").replace("url(","").replace(")","")}function l(){var h=n(this).find(".bspImgWrapper")[0].style.backgroundImage,c=s(h),f=n(this).attr("data-bsp-li-index"),l=n(this).parent("ul").attr("data-bsp-ul-index"),v=n(this).parent("ul").attr("data-bsp-ul-id"),u=n(this).find("p").html(),y=typeof u!="undefined"?u:"undefined",t,e;i.img=c;i.prevImg=parseInt(f)-parseInt(1);i.nextImg=parseInt(f)+parseInt(1);i.ulIndex=l;i.ulId=v;n("#bsPhotoGalleryModal").modal();t="";e='<img src="'+i.img+'" class="img-responsive bsp-modal-main-image"/>';t+=e;t+='<span class="bsp-close"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDEyOCAxMjgiIGhlaWdodD0iMTI4cHgiIGlkPSLQodC70L7QuV8xIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMjggMTI4IiB3aWR0aD0iMTI4cHgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxnPjxwb2x5Z29uIGZpbGw9IiMzNzM3MzciIHBvaW50cz0iMTIzLjU0Mjk2ODgsMTEuNTkzNzUgMTE2LjQ3NjU2MjUsNC41MTg1NTQ3IDY0LjAwMTk1MzEsNTYuOTMwNjY0MSAxMS41NTk1NzAzLDQuNDg4MjgxMyAgICAgNC40ODgyODEzLDExLjU1OTU3MDMgNTYuOTI3MjQ2MSw2My45OTcwNzAzIDQuNDU3MDMxMywxMTYuNDA1MjczNCAxMS41MjQ0MTQxLDEyMy40ODE0NDUzIDYzLjk5ODUzNTIsNzEuMDY4MzU5NCAgICAgMTE2LjQ0MjM4MjgsMTIzLjUxMTcxODggMTIzLjUxMjY5NTMsMTE2LjQ0MTQwNjMgNzEuMDczMjQyMiw2NC4wMDE5NTMxICAgIi8+PC9nPjwvc3ZnPg=="><\/span>';t+='<div class="bsp-text-container">';typeof u!="undefined"&&(t+='<p class="pText">'+u+"<\/p>");t+="<\/div>";r.showControl&&(t+='<a class="bsp-controls next" data-bsp-id="'+i.ulId+'" href="'+i.nextImg+'">',t+='<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iNTEycHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjUxMnB4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48cGF0aCBkPSJNMjk4LjMsMjU2TDI5OC4zLDI1NkwyOTguMywyNTZMMTMxLjEsODEuOWMtNC4yLTQuMy00LjEtMTEuNCwwLjItMTUuOGwyOS45LTMwLjZjNC4zLTQuNCwxMS4zLTQuNSwxNS41LTAuMmwyMDQuMiwyMTIuNyAgYzIuMiwyLjIsMy4yLDUuMiwzLDguMWMwLjEsMy0wLjksNS45LTMsOC4xTDE3Ni43LDQ3Ni44Yy00LjIsNC4zLTExLjIsNC4yLTE1LjUtMC4yTDEzMS4zLDQ0NmMtNC4zLTQuNC00LjQtMTEuNS0wLjItMTUuOCAgTDI5OC4zLDI1NnoiLz48L3N2Zz4="/><\/a>',t+='<a class="bsp-controls previous" data-bsp-id="'+i.ulId+'" href="'+i.prevImg+'">',t+='<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iNTEycHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjUxMnB4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48cG9seWdvbiBwb2ludHM9IjM1MiwxMjguNCAzMTkuNyw5NiAxNjAsMjU2IDE2MCwyNTYgMTYwLDI1NiAzMTkuNyw0MTYgMzUyLDM4My42IDIyNC43LDI1NiAiLz48L3N2Zz4="/><\/a><\/a>');n("#bsPhotoGalleryModal .modal-body").html(t);n(".bsp-close").on("click",a);o()}function a(){n("#bsPhotoGalleryModal").modal("hide")}function v(){var f=n(e()),r=n(this).attr("href"),h=f.find('li[data-bsp-li-index="'+r+'"] .bspImgWrapper')[0].style.backgroundImage,c=s(h),t=f.find('li[data-bsp-li-index="'+r+'"] p').html(),l=typeof t!="undefined"?t:"undefined",u;return n("#bsPhotoGalleryModal .modal-body img.bsp-modal-main-image").attr("src",c),u="",typeof t!="undefined"&&(u+='<p class="pText">'+t+"<\/p>"),n(".bsp-text-container").html(u),i.prevImg=parseInt(r)-1,i.nextImg=parseInt(i.prevImg)+2,n(this).hasClass("previous")?(n(this).attr("href",i.prevImg),n("a.next").attr("href",i.nextImg)):(n(this).attr("href",i.nextImg),n("a.previous").attr("href",i.prevImg)),o(),!1}function y(){n("#bsPhotoGalleryModal .modal-body").html("");i={}}var r=n.extend({},n.fn.bsPhotoGallery.defaults,t),u=h(),f=r.classes,p=f.split(" "),i={};if(this.each(function(t){var i=n(this).find("li");n(this).attr("data-bsp-ul-id",u);n(this).attr("data-bsp-ul-index",t);i.each(function(t){var i=n(this).find("img"),u=n(this).find("p"),e=i.attr("src");if(n(this).addClass(f),n(this).attr("data-bsp-li-index",t),i.wrap('<div class="bspImgWrapper" style="background:url(\''+e+"');\"><\/div>"),u.addClass("bspText"),r.shortText===!0&&u.addClass("bspShortText"),i.remove(),r.hasModal===!0){n(this).addClass("bspHasModal");n(this).on("click",l)}})}),r.hasModal===!0){n(document).on("click",'a.bsp-controls[data-bsp-id="'+u+'"]',v);n(document).on("hidden.bs.modal","#bsPhotoGalleryModal",y);c()}return this};n.fn.bsPhotoGallery.defaults={classes:"col-xl-2 col-lg-2 col-md-2 col-sm-4",showControl:!0,hasModal:!0,shortText:!0}})(jQuery);