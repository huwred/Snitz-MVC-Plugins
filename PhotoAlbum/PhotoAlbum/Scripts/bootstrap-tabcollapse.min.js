!function(a){var b=function(c,d){this.options=d;this.$tabs=a(c);this._accordionVisible=false;this._initAccordion();this._checkStateOnResize();var e=this;setTimeout(function(){e.checkState()},0)};b.DEFAULTS={accordionClass:"visible-xs",tabsClass:"hidden-xs",accordionTemplate:function(e,d,f,c){return'<div class="panel panel-primary">   <div class="panel-heading">      <h5 class="panel-title">      </h5>   </div>   <div id="'+d+'" class="panel-collapse collapse '+(c?"in":"")+'">       <div class="panel-body js-tabcollapse-panel-body">       </div>   </div></div>'}};b.prototype.checkState=function(){if(this.$tabs.is(":visible")&&this._accordionVisible){this.showTabs();this._accordionVisible=false}else{if(this.$accordion.is(":visible")&&!this._accordionVisible){this.showAccordion();this._accordionVisible=true}}};b.prototype.showTabs=function(){var f=this;this.$tabs.trigger(a.Event("show-tabs.bs.tabcollapse"));var d=this.$accordion.find(".js-tabcollapse-panel-heading").detach();d.each(function(){var h=a(this),i=h.data("bs.tabcollapse.parentLi");var g=f._panelHeadingToTabHeading(h);i.removeClass("active");if(i.parent().hasClass("dropdown-menu")&&!i.siblings("li").hasClass("active")){i.parent().parent().removeClass("active")}if(!g.hasClass("collapsed")){i.addClass("active");if(i.parent().hasClass("dropdown-menu")){i.parent().parent().addClass("active")}}else{g.removeClass("collapsed")}i.append(h)});if(!a("li").hasClass("active")){a("li").first().addClass("active")}var c=this.$accordion.find(".js-tabcollapse-panel-body");c.each(function(){var g=a(this),h=g.data("bs.tabcollapse.tabpane");h.append(g.contents().detach())});this.$accordion.html("");if(this.options.updateLinks){var e=this.getTabContentElement();e.find('[data-toggle-was="tab"], [data-toggle-was="pill"]').each(function(){var g=a(this);var h=g.attr("href").replace(/-collapse$/g,"");g.attr({"data-toggle":g.attr("data-toggle-was"),"data-toggle-was":"","data-parent":"",href:h})})}this.$tabs.trigger(a.Event("shown-tabs.bs.tabcollapse"))};b.prototype.getTabContentElement=function(){var c=a(this.options.tabContentSelector);if(c.length===0){c=this.$tabs.siblings(".tab-content")}return c};b.prototype.showAccordion=function(){this.$tabs.trigger(a.Event("show-accordion.bs.tabcollapse"));var c=this.$tabs.find('li:not(.dropdown) [data-toggle="tab"], li:not(.dropdown) [data-toggle="pill"]'),f=this;c.each(function(){var g=a(this),h=g.parent();g.data("bs.tabcollapse.parentLi",h);f.$accordion.append(f._createAccordionGroup(f.$accordion.attr("id"),g.detach()))});if(this.options.updateLinks){var e=this.$accordion.attr("id");var d=this.$accordion.find(".js-tabcollapse-panel-body");d.find('[data-toggle="tab"], [data-toggle="pill"]').each(function(){var g=a(this);var h=g.attr("href")+"-collapse";g.attr({"data-toggle-was":g.attr("data-toggle"),"data-toggle":"collapse","data-parent":"#"+e,href:h})})}this.$tabs.trigger(a.Event("shown-accordion.bs.tabcollapse"))};b.prototype._panelHeadingToTabHeading=function(c){var d=c.attr("href").replace(/-collapse$/g,"");c.attr({"data-toggle":"tab",href:d,"data-parent":""});return c};b.prototype._tabHeadingToPanelHeading=function(c,e,f,d){c.addClass("js-tabcollapse-panel-heading "+(d?"":"collapsed"));c.attr({"data-toggle":"collapse","data-parent":"#"+f,href:"#"+e});return c};b.prototype._checkStateOnResize=function(){var c=this;a(window).resize(function(){clearTimeout(c._resizeTimeout);c._resizeTimeout=setTimeout(function(){c.checkState()},100)})};b.prototype._initAccordion=function(){var d=function(){var h="",g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var f=0;f<5;f++){h+=g.charAt(Math.floor(Math.random()*g.length))}return h};var e=this.$tabs.attr("id"),c=(e?e:d())+"-accordion";this.$accordion=a('<div class="panel-group '+this.options.accordionClass+'" id="'+c+'"></div>');this.$tabs.after(this.$accordion);this.$tabs.addClass(this.options.tabsClass);this.getTabContentElement().addClass(this.options.tabsClass)};b.prototype._createAccordionGroup=function(h,c){var i=c.attr("data-target"),f=c.data("bs.tabcollapse.parentLi").is(".active");if(!i){i=c.attr("href");i=i&&i.replace(/.*(?=#[^\s]*$)/,"")}var e=a(i),g=e.attr("id")+"-collapse",d=a(this.options.accordionTemplate(c,g,h,f));d.find(".panel-heading > .panel-title").append(this._tabHeadingToPanelHeading(c,g,h,f));d.find(".panel-body").append(e.contents().detach()).data("bs.tabcollapse.tabpane",e);return d};a.fn.tabCollapse=function(c){return this.each(function(){var d=a(this);var e=d.data("bs.tabcollapse");var f=a.extend({},b.DEFAULTS,d.data(),typeof c==="object"&&c);if(!e){d.data("bs.tabcollapse",new b(this,f))}})};a.fn.tabCollapse.Constructor=b}(window.jQuery);